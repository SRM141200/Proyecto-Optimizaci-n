syms x_1 x_2 x_3 y_1 r;


f(x_1,x_2,x_3,y_1) = -(14800*x_1+ 9500*x_2+ 4600*x_3 -(70*(15-2*y_1)*x_1+ 70*(10-1.5*y_1)*x_2+ 70*(5-0.5*y_1)*x_3+ 850*y_1+ 85000 + 900));


g(x_1,x_2,x_3,y_1) = 14800*x_1+ 9500*x_2+ 4600*x_3 -(70*(15-2*y_1)*x_1+ 70*(10-1.5*y_1)*x_2+ 70*(5-0.5*y_1)*x_3+ 850*y_1+ 85000 + 900) + r*(8446*x_1+ 3175*x_2+ 1588*x_3 - 70000)^2 + r*(26.8*x_1+ 8.3*x_2+ 4.3*x_3 -470 )^2 + r*(x_1+x_2+x_3-27)^2 + r*(x_1+x_2-13)^2 + r*(x_1-8)^2 + r*(-x_1+1)^2 + r*(x_2-10)^2 + r*(-x_2+3)^2 + r*(x_3-13)^2 + r*(-x_3+5)^2 + r*(y_1-6)^2 + r*(-y_1)^2 

%g(x_1,x_2,x_3,y_1) = (14800*x_1+ 9500*x_2+ 4600*x_3 -(70*(15-2*y_1)*x_1+ 70*(10-1.5*y_1)*x_2+ 70*(5-0.5*y_1)*x_3+ 850*y_1+ 85000 + 900)) + r*(-log(-(8446*x_1+ 3175*x_2+ 1588*x_3 - 70000)) -log(-(26.8*x_1+ 8.3*x_2+ 4.3*x_3 -470)) -log(-(x_1+x_2+x_3-27))- log(-(x_1+x_2-13)) - log(-(x_1-8)) - log(-(-x_1+1)) - log(-(x_2-10)) - log(-(-x_2+3)) - log(-(x_3-13)) -log(-(-x_3+5)) - log(-(y_1-6)) - log(-(-y_1)))
% 
a = gradient(g, x_1) 
b = gradient(g, x_2) 
c = gradient(g, x_3)
d = gradient(g, y_1)


[A B] = equationsToMatrix([a b c d], [x_1 x_2 x_3 y_1])
% 
R = linsolve(A,B)
% 
limit(R(1),r,inf)
limit(R(2),r,inf)
limit(R(3),r,inf)
limit(R(4),r,inf)

